---
title: "raps-twin"
description: "EDDT (Engineering Department Digital Twin) ‚Äî –ø—Ä–æ–∑–æ—Ä–∏–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ —Å–∏–º—É–ª—è—Ü—ñ—ó –∑ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—é –Ω–∞–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—è, —â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î Mesa –¥–ª—è –∞–≥–µ–Ω—Ç–Ω–æ–≥–æ –º–æ–¥–µ–ª—é–≤–∞–Ω–Ω—è —Ç–∞ SimPy –¥–ª—è –º–æ–¥–µ–ª—é–≤–∞–Ω–Ω—è –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü—ñ—ó –∑–∞ —Ä–µ—Å—É—Ä—Å–∏."
tagline: "–¶–∏—Ñ—Ä–æ–≤–∏–π –¥–≤—ñ–π–Ω–∏–∫ —ñ–Ω–∂–µ–Ω–µ—Ä–Ω–æ–≥–æ –≤—ñ–¥–¥—ñ–ª—É"
icon: "üè≠"
github: "https://github.com/dmytro-yemelianov/raps-twin"
order: 2
---

## –©–æ —Ç–∞–∫–µ raps-twin?

raps-twin, —Ç–∞–∫–æ–∂ –≤—ñ–¥–æ–º–∏–π —è–∫ **EDDT (Engineering Department Digital Twin)**, ‚Äî —Ü–µ –ø—Ä–æ–∑–æ—Ä–∏–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ —Å–∏–º—É–ª—è—Ü—ñ—ó –∑ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—é –Ω–∞–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—è –¥–ª—è –º–æ–¥–µ–ª—é–≤–∞–Ω–Ω—è —ñ–Ω–∂–µ–Ω–µ—Ä–Ω–∏—Ö —Ä–æ–±–æ—á–∏—Ö –ø—Ä–æ—Ü–µ—Å—ñ–≤. –ü–æ–±—É–¥–æ–≤–∞–Ω–∏–π –Ω–∞ **Mesa** –¥–ª—è –∞–≥–µ–Ω—Ç–Ω–æ–≥–æ –º–æ–¥–µ–ª—é–≤–∞–Ω–Ω—è —Ç–∞ **SimPy** –¥–ª—è –º–æ–¥–µ–ª—é–≤–∞–Ω–Ω—è –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü—ñ—ó –∑–∞ —Ä–µ—Å—É—Ä—Å–∏, –≤—ñ–Ω –¥–æ–∑–≤–æ–ª—è—î —Å–∏–º—É–ª—é–≤–∞—Ç–∏ —Ç–∞ –æ–ø—Ç–∏–º—ñ–∑—É–≤–∞—Ç–∏ –æ–ø–µ—Ä–∞—Ü—ñ—ó —ñ–Ω–∂–µ–Ω–µ—Ä–Ω–æ–≥–æ –≤—ñ–¥–¥—ñ–ª—É.

## –ù–∞–≤—ñ—â–æ raps-twin?

| –§–∞–∫—Ç–æ—Ä | –¢—Ä–∞–¥–∏—Ü—ñ–π–Ω–∏–π (–≤–ª–∞—Å–Ω–∏–π) | Mesa/SimPy |
|--------|----------------------|------------|
| –ö—Ä–∏–≤–∞ –Ω–∞–≤—á–∞–Ω–Ω—è | –ö—Ä—É—Ç–∞ | –ü–æ–ª–æ–≥a (–∑–≤–∏—á–∞–π–Ω–∏–π Python) |
| –ü—Ä–æ–∑–æ—Ä—ñ—Å—Ç—å –Ω–∞–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—è | –°–∫–ª–∞–¥–Ω–æ | –õ–µ–≥–∫–æ (–ø–æ–∫—Ä–æ–∫–æ–≤–µ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è) |
| –®–≤–∏–¥–∫—ñ—Å—Ç—å —ñ—Ç–µ—Ä–∞—Ü—ñ–π | –ü–æ–≤—ñ–ª—å–Ω–∞ | –®–≤–∏–¥–∫–∞ |
| –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ Jupyter | –û–±–º–µ–∂–µ–Ω–∞ | –ù–∞—Ç–∏–≤–Ω–∞ |
| –†—è–¥–∫—ñ–≤ –∫–æ–¥—É | ~2000+ | ~500 |

### –í–∏–ø–∞–¥–∫–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

- **–ü–ª–∞–Ω—É–≤–∞–Ω–Ω—è –ø–æ—Ç—É–∂–Ω–æ—Å—Ç–µ–π** ‚Äî –°–∏–º—É–ª—é–π—Ç–µ —Ä—ñ–∑–Ω—ñ —Å–∫–ª–∞–¥–∏ –∫–æ–º–∞–Ω–¥ –¥–ª—è –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó —Ä—ñ—à–µ–Ω—å —â–æ–¥–æ –Ω–∞–π–º—É
- **–ê–Ω–∞–ª—ñ–∑ –≤—É–∑—å–∫–∏—Ö –º—ñ—Å—Ü—å** ‚Äî –í–∏—è–≤–ª—è–π—Ç–µ –ø–µ—Ä–µ–≤–∞–Ω—Ç–∞–∂–µ–Ω–∏—Ö —ñ–Ω–∂–µ–Ω–µ—Ä—ñ–≤ —Ç–∞ —á–µ—Ä–≥–∏ –∑–∞–≤–¥–∞–Ω—å –¥–æ —Ç–æ–≥–æ, —è–∫ –≤–æ–Ω–∏ —Å—Ç–∞–Ω—É—Ç—å –ø—Ä–æ–±–ª–µ–º–æ—é
- **What-If –∞–Ω–∞–ª—ñ–∑** ‚Äî –ü—Ä–æ–≤–æ–¥—å—Ç–µ –µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏, —â–æ–± –∑—Ä–æ–∑—É–º—ñ—Ç–∏ –≤–ø–ª–∏–≤ –∑–º—ñ–Ω
- **–û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –ø—Ä–æ—Ü–µ—Å—ñ–≤** ‚Äî –ó–Ω–∞—Ö–æ–¥—å—Ç–µ –æ–ø—Ç–∏–º–∞–ª—å–Ω–∏–π –±–∞–ª–∞–Ω—Å –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ç–∞ —Ä–µ—Å—É—Ä—Å—ñ–≤

## –ö–ª—é—á–æ–≤—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

- **–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è —Å—Ü–µ–Ω–∞—Ä—ñ—ó–≤** ‚Äî –ü–æ—Ä—ñ–≤–Ω—é–π—Ç–µ 2-5 —Å—Ü–µ–Ω–∞—Ä—ñ—ó–≤ —Å–∏–º—É–ª—è—Ü—ñ—ó –ø–ª—ñ—á-–æ-–ø–ª—ñ—á
- **–ê–Ω–∞–ª—ñ–∑ –≤—É–∑—å–∫–∏—Ö –º—ñ—Å—Ü—å** ‚Äî –í–∏—è–≤–ª–µ–Ω–Ω—è –ø–µ—Ä–µ–≤–∞–Ω—Ç–∞–∂–µ–Ω–∏—Ö —ñ–Ω–∂–µ–Ω–µ—Ä—ñ–≤ —Ç–∞ —á–µ—Ä–≥ –∑–∞–≤–¥–∞–Ω—å
- **What-If –∞–Ω–∞–ª—ñ–∑** ‚Äî –ü—Ä–æ–≤–µ–¥–µ–Ω–Ω—è –µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ñ–≤ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –∑–∞–ø–∏—Ç—ñ–≤ –ø—Ä–∏—Ä–æ–¥–Ω–æ—é –º–æ–≤–æ—é
- **–î–∞—à–±–æ—Ä–¥ —É —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ** ‚Äî –í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è —á–µ—Ä–µ–∑ –∂–∏–≤–∏–π Jupyter-–≤—ñ–¥–∂–µ—Ç
- **–Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ LLM** ‚Äî –û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–µ –ø—Ä–∏–π–Ω—è—Ç—Ç—è —Ä—ñ—à–µ–Ω—å –Ω–∞ –æ—Å–Ω–æ–≤—ñ –®–Ü

## –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

### –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

```bash
pip install eddt
```

–ê–±–æ –∑ –≤–∏—Ö—ñ–¥–Ω–æ–≥–æ –∫–æ–¥—É:

```bash
git clone https://github.com/dmytro-yemelianov/raps-twin.git
cd raps-twin
pip install -e ".[dev]"
```

### –ë–∞–∑–æ–≤–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

```bash
# Run simulation
python -m eddt.cli --days 5

# Compare scenarios
python -m eddt.cli --compare baseline.yaml optimized.yaml --days 5

# Bottleneck analysis
python -m eddt.cli --config scenario.yaml --bottleneck --days 10

# What-if experiment
python -m eddt.cli --config baseline.yaml --whatif "+1 senior_designer" --days 5
```

### Python API

```python
from eddt import EngineeringDepartment, run_simulation

# Create model with default config
model = EngineeringDepartment()

# Run for 5 simulated days
results = model.run(days=5)

# Explore results
print(results['summary'])
```

## –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è —Å—Ü–µ–Ω–∞—Ä—ñ—ó–≤

–ü–æ—Ä—ñ–≤–Ω—é–π—Ç–µ –∫—ñ–ª—å–∫–∞ —Å—Ü–µ–Ω–∞—Ä—ñ—ó–≤ –¥–ª—è —Ä–æ–∑—É–º—ñ–Ω–Ω—è –∫–æ–º–ø—Ä–æ–º—ñ—Å—ñ–≤:

```python
from eddt import compare_scenarios, get_comparison_summary_table

result = compare_scenarios(
    config_paths=["baseline.yaml", "add_designer.yaml", "add_reviewer.yaml"],
    labels=["Baseline", "+1 Designer", "+1 Reviewer"],
    days=10,
)

print(get_comparison_summary_table(result))
```

CLI:

```bash
eddt --compare baseline.yaml add_designer.yaml --labels "Baseline" "Add Designer" --export results/
```

## –ê–Ω–∞–ª—ñ–∑ –≤—É–∑—å–∫–∏—Ö –º—ñ—Å—Ü—å

–í–∏—è–≤–ª—è–π—Ç–µ –ø–µ—Ä–µ–≤–∞–Ω—Ç–∞–∂–µ–Ω–∏—Ö —ñ–Ω–∂–µ–Ω–µ—Ä—ñ–≤ —Ç–∞ —á–µ—Ä–≥–∏ –∑–∞–≤–¥–∞–Ω—å:

```python
from eddt import analyze_bottlenecks, format_bottleneck_report, BottleneckConfig

model = EngineeringDepartment(config_path="scenario.yaml")
model.run(days=10)

config = BottleneckConfig(utilization_threshold=0.85)
report = analyze_bottlenecks(model, config=config)

print(format_bottleneck_report(report))

# Access recommendations
for rec in report.recommendations:
    print(f"[{'{'}rec.severity{'}'}] {'{'}rec.recommendation_text{'}'}")
```

CLI:

```bash
eddt --config scenario.yaml --bottleneck --util-threshold 0.85 --days 10
```

## What-If –∞–Ω–∞–ª—ñ–∑

–ü—Ä–æ–≤–æ–¥—å—Ç–µ –µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏ –∑ –ø—Ä–æ—Å—Ç–∏–º —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–æ–º –º–æ–¥–∏—Ñ—ñ–∫–∞—Ü—ñ–π:

```python
from eddt import run_whatif_experiment, ask_whatif

# Structured syntax
experiment = run_whatif_experiment(
    "baseline.yaml",
    modifications=["+1 senior_designer", "-50% review"],
    days=5,
)

# Natural language
experiment = ask_whatif(
    "baseline.yaml",
    "what if we double the review tasks?",
    days=5,
)

print(experiment.comparison.summary)
```

–ü—ñ–¥—Ç—Ä–∏–º—É–≤–∞–Ω—ñ –º–æ–¥–∏—Ñ—ñ–∫–∞—Ü—ñ—ó:
- `+1 senior_designer` ‚Äî –î–æ–¥–∞—Ç–∏ —á–ª–µ–Ω—ñ–≤ –∫–æ–º–∞–Ω–¥–∏
- `-1 junior_designer` ‚Äî –í–∏–¥–∞–ª–∏—Ç–∏ —á–ª–µ–Ω—ñ–≤ –∫–æ–º–∞–Ω–¥–∏
- `+50% part_design` ‚Äî –ó–±—ñ–ª—å—à–∏—Ç–∏ –æ–±—Å—è–≥ –∑–∞–≤–¥–∞–Ω—å
- `-50% review` ‚Äî –ó–º–µ–Ω—à–∏—Ç–∏ –æ–±—Å—è–≥ –∑–∞–≤–¥–∞–Ω—å
- `+10 review tasks` ‚Äî –î–æ–¥–∞—Ç–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ñ –∑–∞–≤–¥–∞–Ω–Ω—è
- `double the review tasks` ‚Äî –ü—Ä–∏—Ä–æ–¥–Ω–∞ –º–æ–≤–∞

## –†–æ–ª—ñ –∞–≥–µ–Ω—Ç—ñ–≤

| –†–æ–ª—å | –û–ø–∏—Å |
|------|------|
| `junior_designer` | –ü—Ä–æ—î–∫—Ç—É–≤–∞–Ω–Ω—è –¥–µ—Ç–∞–ª–µ–π, –∫—Ä–µ—Å–ª–µ–Ω–Ω—è |
| `senior_designer` | –°–∫–ª–∞–¥–Ω—ñ –∑–±—ñ—Ä–∫–∏, —Ä–µ–≤'—é |
| `mechanical_engineer` | –°–∏–º—É–ª—è—Ü—ñ—è, FEA |
| `reviewer` | –†–µ–≤'—é –ø—Ä–æ—î–∫—Ç—ñ–≤ |
| `plm_admin` | PLM/—Ä–æ–±–æ—á—ñ –ø—Ä–æ—Ü–µ—Å–∏ –≤–∏–ø—É—Å–∫—É |

## –¢–∏–ø–∏ –∑–∞–≤–¥–∞–Ω—å

| –ó–∞–≤–¥–∞–Ω–Ω—è | –û–ø–∏—Å |
|----------|------|
| `part_design` | –°—Ç–≤–æ—Ä–µ–Ω–Ω—è CAD-–¥–µ—Ç–∞–ª–µ–π |
| `assembly` | –ü—Ä–æ—î–∫—Ç—É–≤–∞–Ω–Ω—è –∑–±—ñ—Ä–æ–∫ |
| `drawing` | –¢–µ—Ö–Ω—ñ—á–Ω—ñ –∫—Ä–µ—Å–ª–µ–Ω–Ω—è |
| `review` | –†–µ–≤'—é –ø—Ä–æ—î–∫—Ç—É |
| `simulation` | FEA/CFD –∞–Ω–∞–ª—ñ–∑ |
| `release` | –†–æ–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å –≤–∏–ø—É—Å–∫—É |

## –ü—Ä–∏–∫–ª–∞–¥–∏ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó

### –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –Ω–∞ Python

```python
config = {'{'}
    'simulation': {'{'}
        'start_date': '2025-01-15T08:00:00',
        'tick_minutes': 15,
        'work_hours': {'{'}'start': 8, 'end': 17{'}'},
    {'}'},
    'agents': [
        {'{'}'name': 'Alice', 'role': 'senior_designer', 'count': 1{'}'},
        {'{'}'name': 'Bob', 'role': 'junior_designer', 'count': 3{'}'},
    ],
    'projects': [
        {'{'}
            'name': 'Product Launch',
            'tasks': [
                {'{'}'type': 'part_design', 'count': 10, 'hours': 8{'}'},
                {'{'}'type': 'drawing', 'count': 10, 'hours': 4{'}'},
            ]
        {'}'}
    ],
{'}'}

model = EngineeringDepartment(config=config)
results = model.run(days=10)
```

### –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è YAML

```yaml
simulation:
  start_date: '2025-01-15T08:00:00'
  tick_minutes: 15
  work_hours:
    start: 8
    end: 17

agents:
  - name: Alice
    role: senior_designer
    count: 1
  - name: Bob
    role: junior_designer
    count: 3

projects:
  - name: Product Launch
    tasks:
      - type: part_design
        count: 10
        hours: 8
      - type: drawing
        count: 10
        hours: 4
```

## –î–æ–≤—ñ–¥–∫–∞ CLI

```
eddt [OPTIONS]

Options:
  -c, --config PATH       YAML configuration file
  -d, --days INT          Number of days to simulate (default: 5)
  -s, --seed INT          Random seed (default: 42)
  -o, --output PATH       Output file for results (CSV)
  -q, --quiet             Suppress progress output
  --use-llm               Enable LLM decision making

Comparison:
  --compare CONFIG...     Compare 2-5 scenario configs
  --labels LABEL...       Labels for comparison scenarios
  --export DIR            Export comparison results (CSV/JSON)

Bottleneck Analysis:
  --bottleneck            Enable bottleneck analysis
  --util-threshold FLOAT  Utilization threshold (default: 0.85)
  --wait-threshold FLOAT  Wait time threshold in hours (default: 2.0)

What-If Analysis:
  --whatif MOD...         What-if modifications (e.g., "+1 senior_designer")
```

## –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ LLM

–ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º EDDT –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –ø—Ä–∏–π–Ω—è—Ç—Ç—è —Ä—ñ—à–µ–Ω—å –Ω–∞ –æ—Å–Ω–æ–≤—ñ –ø—Ä–∞–≤–∏–ª –¥–ª—è —à–≤–∏–¥–∫–æ—Å—Ç—ñ. –©–æ–± —É–≤—ñ–º–∫–Ω—É—Ç–∏ LLM:

```python
model = EngineeringDepartment(config={'{'}
    'llm': {'{'}
        'use_llm': True,
        'tier1_model': 'qwen2.5:1.5b',
        'tier2_model': 'qwen2.5:7b',
    {'}'}
{'}'})
```

–ü–æ—Ç—Ä—ñ–±–µ–Ω [Ollama](https://ollama.ai/), —â–æ –ø—Ä–∞—Ü—é—î –ª–æ–∫–∞–ª—å–Ω–æ:

```bash
ollama serve
ollama pull qwen2.5:1.5b
ollama pull qwen2.5:7b
```

## –í–∏—Ö—ñ–¥–Ω—ñ –¥–∞–Ω—ñ

–†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –≤–∫–ª—é—á–∞—é—Ç—å:
- **–ü—ñ–¥—Å—É–º–æ–∫**: –í–∏–∫–æ–Ω–∞–Ω—ñ –∑–∞–≤–¥–∞–Ω–Ω—è, –≤—ñ–¥—Å–æ—Ç–æ–∫ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è
- **–ú–µ—Ç—Ä–∏–∫–∏ –∞–≥–µ–Ω—Ç—ñ–≤**: –£—Ç–∏–ª—ñ–∑–∞—Ü—ñ—è, –∫—ñ–ª—å–∫—ñ—Å—Ç—å –≤–∏–∫–æ–Ω–∞–Ω–∏—Ö –∑–∞–≤–¥–∞–Ω—å –Ω–∞ –∞–≥–µ–Ω—Ç–∞
- **–ú–µ—Ç—Ä–∏–∫–∏ –º–æ–¥–µ–ª—ñ**: –ß–∞—Å–æ–≤—ñ —Ä—è–¥–∏ —É—Ç–∏–ª—ñ–∑–∞—Ü—ñ—ó, –ø—Ä–æ–≥—Ä–µ—Å –∑–∞–≤–¥–∞–Ω—å
- **–í—É–∑—å–∫—ñ –º—ñ—Å—Ü—è**: –í–∏—è–≤–ª–µ–Ω—ñ –≤—É–∑—å–∫—ñ –º—ñ—Å—Ü—è —Ä–æ–±–æ—á–∏—Ö –ø—Ä–æ—Ü–µ—Å—ñ–≤
- **–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è**: –ê–Ω–∞–ª—ñ–∑ —Å—Ü–µ–Ω–∞—Ä—ñ—ó–≤ –ø–ª—ñ—á-–æ-–ø–ª—ñ—á
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó**: –ü—Ä–∞–∫—Ç–∏—á–Ω—ñ –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ—ó —â–æ–¥–æ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è
