---
title: "–ü–∞–π–ø–ª–∞–π–Ω–∏"
description: "–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—è —Å–∫–ª–∞–¥–Ω–∏—Ö —Ä–æ–±–æ—á–∏—Ö –ø—Ä–æ—Ü–µ—Å—ñ–≤ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é YAML/JSON —Ñ–∞–π–ª—ñ–≤ –ø–∞–π–ø–ª–∞–π–Ω—ñ–≤"
section: "guides"
order: 2
icon: "üìã"
---

# –ü–∞–π–ø–ª–∞–π–Ω–∏

–í–∏–∫–æ–Ω—É–π—Ç–µ –ø–∞–∫–µ—Ç–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó –∑ YAML –∞–±–æ JSON —Ñ–∞–π–ª—ñ–≤ –ø–∞–π–ø–ª–∞–π–Ω—ñ–≤ –¥–ª—è —Å–∫–ª–∞–¥–Ω–∏—Ö —Ä–æ–±–æ—á–∏—Ö –ø—Ä–æ—Ü–µ—Å—ñ–≤ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—ó.

## –û–≥–ª—è–¥

–ü–∞–π–ø–ª–∞–π–Ω–∏ –¥–æ–∑–≤–æ–ª—è—é—Ç—å:
- –í–∏–∑–Ω–∞—á–∞—Ç–∏ –±–∞–≥–∞—Ç–æ–∫—Ä–æ–∫–æ–≤—ñ —Ä–æ–±–æ—á—ñ –ø—Ä–æ—Ü–µ—Å–∏ –≤ –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–∏—Ö —Ñ–∞–π–ª–∞—Ö
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –ø—ñ–¥—Å—Ç–∞–Ω–æ–≤–∫—É –∑–º—ñ–Ω–Ω–∏—Ö –¥–ª—è –¥–∏–Ω–∞–º—ñ—á–Ω–∏—Ö –∑–Ω–∞—á–µ–Ω—å
- –ö–æ—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–æ–±–ª—è—Ç–∏ –ø–æ–º–∏–ª–∫–∏ –∑ –æ–ø—Ü—ñ—î—é continue-on-error
- –ü–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏ –ø–µ—Ä–µ–¥ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è–º —É —Ä–µ–∂–∏–º—ñ dry-run

## –ë–∞–∑–æ–≤–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–π–ø–ª–∞–π–Ω—É

```yaml
# pipeline.yaml
name: Model Processing Pipeline
description: Upload and translate models

variables:
  bucket: my-project-bucket
  region: US

steps:
  - name: Create Bucket
    command: bucket create
    args:
      key: "{{ bucket }}"
      policy: persistent
      region: "{{ region }}"

  - name: Upload Model
    command: object upload
    args:
      bucket: "{{ bucket }}"
      file: "./models/building.rvt"

  - name: Start Translation
    command: translate start
    args:
      urn: "{{ steps.Upload Model.output.urn }}"
      format: svf2
      wait: true
```

## –ó–∞–ø—É—Å–∫ –ø–∞–π–ø–ª–∞–π–Ω—ñ–≤

```bash
# –í–∏–∫–æ–Ω–∞—Ç–∏ –ø–∞–π–ø–ª–∞–π–Ω
raps pipeline run pipeline.yaml

# Dry-run (–ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –±–µ–∑ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è)
raps pipeline run pipeline.yaml --dry-run

# –ü–µ—Ä–µ–≤–∏–∑–Ω–∞—á–∏—Ç–∏ –∑–º—ñ–Ω–Ω—ñ
raps pipeline run pipeline.yaml --var bucket=custom-bucket --var region=EMEA

# –ü—Ä–æ–¥–æ–≤–∂–∏—Ç–∏ –ø—Ä–∏ –ø–æ–º–∏–ª–∫–∞—Ö
raps pipeline run pipeline.yaml --continue-on-error
```

## –ü—ñ–¥—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–º—ñ–Ω–Ω–∏—Ö

### –°—Ç–∞—Ç–∏—á–Ω—ñ –∑–º—ñ–Ω–Ω—ñ

–í–∏–∑–Ω–∞—á—Ç–µ –∑–º—ñ–Ω–Ω—ñ –Ω–∞ –ø–æ—á–∞—Ç–∫—É –≤–∞—à–æ–≥–æ –ø–∞–π–ø–ª–∞–π–Ω—É:

```yaml
variables:
  project_name: Downtown Office
  bucket_prefix: company-aps
```

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –∑ `{{ variable_name }}`:

```yaml
steps:
  - name: Create Bucket
    command: bucket create
    args:
      key: "{{ bucket_prefix }}-{{ project_name | slugify }}"
```

### –ó–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

–î–æ—Å—Ç—É–ø –¥–æ –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞:

```yaml
steps:
  - name: Upload
    command: object upload
    args:
      bucket: "{{ env.BUCKET_NAME }}"
      file: "{{ env.MODEL_PATH }}"
```

### –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –∫—Ä–æ–∫—ñ–≤

–ü–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ—Ö –∫—Ä–æ–∫—ñ–≤:

```yaml
steps:
  - name: Upload Model
    id: upload
    command: object upload
    args:
      bucket: my-bucket
      file: model.rvt

  - name: Get URN
    command: object urn
    args:
      bucket: my-bucket
      object: "{{ steps.upload.output.object_key }}"
```

## –£–º–æ–≤–Ω—ñ –∫—Ä–æ–∫–∏

–í–∏–∫–æ–Ω–∞–Ω–Ω—è –∫—Ä–æ–∫—ñ–≤ –Ω–∞ –æ—Å–Ω–æ–≤—ñ —É–º–æ–≤:

```yaml
steps:
  - name: Create Bucket
    command: bucket create
    args:
      key: my-bucket
    condition: "{{ env.CREATE_BUCKET == 'true' }}"

  - name: Upload
    command: object upload
    args:
      bucket: my-bucket
      file: model.rvt
    condition: "{{ steps['Create Bucket'].success or env.BUCKET_EXISTS == 'true' }}"
```

## –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫

### –ü—Ä–æ–¥–æ–≤–∂–µ–Ω–Ω—è –ø—Ä–∏ –ø–æ–º–∏–ª—Ü—ñ

```yaml
steps:
  - name: Delete Old Bucket
    command: bucket delete
    args:
      key: old-bucket
    continue_on_error: true

  - name: Create New Bucket
    command: bucket create
    args:
      key: new-bucket
```

### –ü–æ–≤—Ç–æ—Ä–Ω–∞ —Å–ø—Ä–æ–±–∞ –ø—Ä–∏ –Ω–µ–≤–¥–∞—á—ñ

```yaml
steps:
  - name: Upload Large File
    command: object upload
    args:
      bucket: my-bucket
      file: large-model.ifc
    retry:
      attempts: 3
      delay: 10  # —Å–µ–∫—É–Ω–¥–∏
```

## –ü–æ–≤–Ω–∏–π –ø—Ä–∏–∫–ª–∞–¥

–ì–æ—Ç–æ–≤–∏–π –¥–æ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É –ø–∞–π–ø–ª–∞–π–Ω –¥–ª—è –æ–±—Ä–æ–±–∫–∏ –º–æ–¥–µ–ª–µ–π:

```yaml
name: Production Model Pipeline
description: Full workflow for processing architectural models

variables:
  project_id: project-2024-001
  bucket_name: "aps-{{ project_id }}"
  output_formats:
    - svf2
    - obj
    - thumbnail

steps:
  - name: Verify Authentication
    command: auth test

  - name: Create Project Bucket
    command: bucket create
    args:
      key: "{{ bucket_name }}"
      policy: persistent
      region: US
    continue_on_error: true  # –ú–æ–∂–µ –≤–∂–µ —ñ—Å–Ω—É–≤–∞—Ç–∏

  - name: Upload Models
    command: object upload
    args:
      bucket: "{{ bucket_name }}"
      file: "./models/*.rvt"
      batch: true
      parallel: true
      concurrency: 5

  - name: Process Each Model
    foreach: "{{ steps['Upload Models'].output.objects }}"
    as: model
    steps:
      - name: Get URN
        command: object urn
        args:
          bucket: "{{ bucket_name }}"
          object: "{{ model.key }}"

      - name: Translate to Formats
        foreach: "{{ output_formats }}"
        as: format
        steps:
          - name: "Translate to {{ format }}"
            command: translate start
            args:
              urn: "{{ parent.steps['Get URN'].output.urn }}"
              format: "{{ format }}"
              wait: true
            retry:
              attempts: 2
              delay: 30

  - name: Generate Report
    command: pipeline report
    args:
      output: "./reports/{{ project_id }}-report.json"
```

## –ö–æ–º–∞–Ω–¥–∏ –ø–∞–π–ø–ª–∞–π–Ω—ñ–≤

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –ø–∞–π–ø–ª–∞–π–Ω
raps pipeline run pipeline.yaml

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å
raps pipeline validate pipeline.yaml

# –ü–æ–∫–∞–∑–∞—Ç–∏ –ø–ª–∞–Ω –≤–∏–∫–æ–Ω–∞–Ω–Ω—è
raps pipeline plan pipeline.yaml

# –í—ñ–¥–Ω–æ–≤–∏—Ç–∏ –Ω–µ–≤–¥–∞–ª–∏–π –ø–∞–π–ø–ª–∞–π–Ω
raps pipeline resume .raps-pipeline-state.json
```

## –ù–∞–π–∫—Ä–∞—â—ñ –ø—Ä–∞–∫—Ç–∏–∫–∏

1. **–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –æ–ø–∏—Å–æ–≤—ñ –Ω–∞–∑–≤–∏ –∫—Ä–æ–∫—ñ–≤** ‚Äî –ü–æ–ª–µ–≥—à—É—î —á–∏—Ç–∞–Ω–Ω—è –ª–æ–≥—ñ–≤
2. **–í—Å—Ç–∞–Ω–æ–≤–ª—é–π—Ç–µ continue_on_error –æ–±–¥—É–º–∞–Ω–æ** ‚Äî –¢—ñ–ª—å–∫–∏ –¥–ª—è –Ω–µ–∫—Ä–∏—Ç–∏—á–Ω–∏—Ö –∫—Ä–æ–∫—ñ–≤
3. **–°–ø–æ—á–∞—Ç–∫—É –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ dry-run** ‚Äî –ü–µ—Ä–µ–≤—ñ—Ä—è–π—Ç–µ –ø–µ—Ä–µ–¥ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è–º
4. **–ó–±–µ—Ä—ñ–≥–∞–π—Ç–µ —Å–µ–∫—Ä–µ—Ç–∏ –≤ –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞** ‚Äî –ù—ñ–∫–æ–ª–∏ —É —Ñ–∞–π–ª–∞—Ö –ø–∞–π–ø–ª–∞–π–Ω—ñ–≤
5. **–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ retry –¥–ª—è –º–µ—Ä–µ–∂–µ–≤–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π** ‚Äî API –º–æ–∂—É—Ç—å –º–∞—Ç–∏ —Ç–∏–º—á–∞—Å–æ–≤—ñ –∑–±–æ—ó

## –ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏

- [–ü—Ä–∏–∫–ª–∞–¥–∏](/docs/examples) ‚Äî –ë—ñ–ª—å—à–µ –ø—Ä–∏–∫–ª–∞–¥—ñ–≤ —Ä–æ–±–æ—á–∏—Ö –ø—Ä–æ—Ü–µ—Å—ñ–≤
- [–ö–æ–¥–∏ –≤–∏—Ö–æ–¥—É](/docs/exit-codes) ‚Äî –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ CI/CD
