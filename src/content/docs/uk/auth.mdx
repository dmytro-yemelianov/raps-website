---
title: "–ê–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è"
description: "–ö–æ–º–∞–Ω–¥–∏ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –¥–ª—è 2-legged —Ç–∞ 3-legged OAuth"
section: "commands"
order: 1
icon: "üîê"
---

# –ö–æ–º–∞–Ω–¥–∏ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó

RAPS –ø—ñ–¥—Ç—Ä–∏–º—É—î —è–∫ 2-legged (client credentials), —Ç–∞–∫ —ñ 3-legged (authorization code) –ø–æ—Ç–æ–∫–∏ OAuth.

![RAPS authentication demo](/terminal/auth-demo.gif)

## –û–≥–ª—è–¥ –∫–æ–º–∞–Ω–¥

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å |
|---------|------|
| `raps auth test` | –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –æ–±–ª—ñ–∫–æ–≤—ñ –¥–∞–Ω—ñ 2-legged OAuth |
| `raps auth login` | –£–≤—ñ–π—Ç–∏ —á–µ—Ä–µ–∑ 3-legged OAuth |
| `raps auth logout` | –û—á–∏—Å—Ç–∏—Ç–∏ –∑–±–µ—Ä–µ–∂–µ–Ω—ñ —Ç–æ–∫–µ–Ω–∏ |
| `raps auth status` | –ü–æ–∫–∞–∑–∞—Ç–∏ —Å—Ç–∞—Ç—É—Å –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó |
| `raps auth whoami` | –ü–æ–∫–∞–∑–∞—Ç–∏ –ø—Ä–æ—Ñ—ñ–ª—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ |
| `raps auth inspect` | –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –¥–µ—Ç–∞–ª—ñ —Ç–æ–∫–µ–Ω–∞ (–æ–±–ª–∞—Å—Ç—ñ –¥—ñ—ó, —Ç–µ—Ä–º—ñ–Ω –¥—ñ—ó) |

## raps auth test

–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó 2-legged OAuth –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é Client ID —Ç–∞ Client Secret.

```bash
$ raps auth test
‚úì Authentication successful!
  Token expires in: 3599 seconds
```

**–í–∏–º–æ–≥–∏:**
- –ó–º—ñ–Ω–Ω–∞ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ `APS_CLIENT_ID`
- –ó–º—ñ–Ω–Ω–∞ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ `APS_CLIENT_SECRET`

## raps auth login

–í—Ö—ñ–¥ —á–µ—Ä–µ–∑ 3-legged OAuth. –ü—ñ–¥—Ç—Ä–∏–º—É—î –∫—ñ–ª—å–∫–∞ –º–µ—Ç–æ–¥—ñ–≤.

```bash
raps auth login [--default] [--preset PRESET] [--device] [--token <token>]
```

**–û–ø—Ü—ñ—ó:**
- `-d, --default`: –í–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ —Ç–∏–ø–æ–≤—ñ –æ–±–ª–∞—Å—Ç—ñ –¥–æ—Å—Ç—É–ø—É –±–µ–∑ –∑–∞–ø–∏—Ç—É
- `-p, --preset <PRESET>`: –í–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –Ω–∞–±—ñ—Ä –æ–±–ª–∞—Å—Ç–µ–π –¥–æ—Å—Ç—É–ø—É **(–ù–æ–≤–µ –≤ v4.6)**
- `--device`: –í–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –ø–æ—Ç—ñ–∫ device code (–¥–ª—è —Å–µ—Ä–≤–µ—Ä–Ω–∏—Ö/–±–µ–∑–≥–æ–ª–æ–≤–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â)
- `--token <token>`: –ù–∞–¥–∞—Ç–∏ —Ç–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø—É –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ (–¥–ª—è CI/CD)

**–î–æ—Å—Ç—É–ø–Ω—ñ –Ω–∞–±–æ—Ä–∏ (presets):**

| –ù–∞–±—ñ—Ä | –û–±–ª–∞—Å—Ç—ñ –¥–æ—Å—Ç—É–ø—É | –ó–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è |
|-------|----------------|--------------|
| `all` | –£—Å—ñ 16 –æ–±–ª–∞—Å—Ç–µ–π | –ü–æ–≤–Ω–∏–π –¥–æ—Å—Ç—É–ø –¥–ª—è —Ä–æ–∑—Ä–æ–±–∫–∏ |
| `viewer` | data:read, data:search, bucket:read, account:read, user:read, viewables:read | –î–∞—à–±–æ—Ä–¥–∏ —Ç–∞ –∑–≤—ñ—Ç–∏ (—Ç—ñ–ª—å–∫–∏ —á–∏—Ç–∞–Ω–Ω—è) |
| `editor` | data:read/write/create/search, bucket:read/create/update, account:read, user:read, viewables:read | –©–æ–¥–µ–Ω–Ω–∞ —Ä–æ–±–æ—Ç–∞ –∑ –ø—Ä–æ—î–∫—Ç–∞–º–∏ |
| `storage` | data:read/write/create, bucket:create/read/update/delete | –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤ —Ç–∞ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è OSS |
| `automation` | code:all, data:read/write/create, bucket:read/create | –†–æ–±–æ—á—ñ –ø—Ä–æ—Ü–µ—Å–∏ Design Automation |
| `admin` | account:read/write, user:read/write, data:read | –ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä—É–≤–∞–Ω–Ω—è –æ–±–ª—ñ–∫–æ–≤–∏—Ö –∑–∞–ø–∏—Å—ñ–≤ |

**–í—Ö—ñ–¥ —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º):**

```bash
$ raps auth login
Opening browser for authentication...
Select scopes:
  [x] data:read
  [x] data:write
  [x] data:create
  [x] account:read
  [x] user:read
  [x] viewables:read

‚úì Login successful!
  User: john.doe@example.com
```

**–ü–æ—Ç—ñ–∫ device code (–±–µ–∑–≥–æ–ª–æ–≤–∏–π —Ä–µ–∂–∏–º):**

```bash
$ raps auth login --device
Device Code Authentication
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  User Code: ABC-123-DEF
  Verification URL: https://developer.api.autodesk.com/authentication/v2/device

Please visit the URL above and enter the user code.
Waiting for authorization...
‚úì Authorization successful!
```

**–í—Ö—ñ–¥ –∑–∞ —Ç–æ–∫–µ–Ω–æ–º (CI/CD):**

```bash
$ raps auth login --token "eyJhbGc..." --expires-in 3600
‚úì Token validated for user: user@example.com
```

## raps auth status

–í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –ø–æ—Ç–æ—á–Ω–æ–≥–æ —Å—Ç–∞—Ç—É—Å—É –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó.

```bash
$ raps auth status
Authentication Status
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  2-legged (Client Credentials): ‚úì Available
  3-legged (User Login): ‚úì Logged in
    Token: abcd...wxyz
    Expires in: 1h 30m
```

## raps auth inspect

–ü–µ—Ä–µ–≥–ª—è–¥ –ø–æ—Ç–æ—á–Ω–æ–≥–æ —Ç–æ–∫–µ–Ω–∞ –¥–æ—Å—Ç—É–ø—É: –æ–±–ª–∞—Å—Ç—ñ –¥—ñ—ó, —Ç–µ—Ä–º—ñ–Ω –¥—ñ—ó —Ç–∞ –º–µ—Ç–∞–¥–∞–Ω—ñ.

```bash
$ raps auth inspect
Token Information:
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  Valid: ‚úì Yes
  Expires At: 2024-01-15 15:30:00 UTC
  Expires In: 45 minutes

  Scopes:
    ‚Ä¢ data:read
    ‚Ä¢ data:write
    ‚Ä¢ data:create
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
```

**–ó –ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è–º –ø—Ä–æ –∑–∞–∫—ñ–Ω—á–µ–Ω–Ω—è —Ç–µ—Ä–º—ñ–Ω—É:**

```bash
$ raps auth inspect --warn-expiry 3600
‚ö† WARNING: Token expires in less than 1 hour!
```

## –¢–∏–ø–∏ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó

### 2-Legged OAuth (Client Credentials)

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è —Å–µ—Ä–≤–µ—Ä–Ω–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π –±–µ–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞.

**–ó–∞—Å—Ç–æ—Å–æ–≤—É—î—Ç—å—Å—è –¥–ª—è:**
- –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤ –¥–æ OSS
- –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –±–∞–∫–µ—Ç—ñ–≤
- –ó–∞–ø—É—Å–∫—É —Ç—Ä–∞–Ω—Å–ª—è—Ü—ñ–π
- –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –≤–µ–±—Ö—É–∫–∞–º–∏
- Design Automation

### 3-Legged OAuth (Authorization Code)

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –æ–ø–µ—Ä–∞—Ü—ñ–π, —â–æ –ø–æ—Ç—Ä–µ–±—É—é—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞.

**–ó–∞—Å—Ç–æ—Å–æ–≤—É—î—Ç—å—Å—è –¥–ª—è:**
- –î–æ—Å—Ç—É–ø—É –¥–æ —Ö–∞–±—ñ–≤ —Ç–∞ –ø—Ä–æ—î–∫—Ç—ñ–≤ BIM 360/ACC
- –ü–µ—Ä–µ–≥–ª—è–¥—É –ø–∞–ø–æ–∫ —Ç–∞ –µ–ª–µ–º–µ–Ω—Ç—ñ–≤
- –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º–∞–º–∏ (issues)
- –î–∞–Ω–∏—Ö, —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω–∏—Ö –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞

## –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Ç–æ–∫–µ–Ω–∞–º–∏ (v3.7.0+)

RAPS –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ:
- –ó–±–µ—Ä—ñ–≥–∞—î —Ç–æ–∫–µ–Ω–∏ –±–µ–∑–ø–µ—á–Ω–æ —á–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º–Ω–µ —Å—Ö–æ–≤–∏—â–µ –∫–ª—é—á—ñ–≤ (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º) –∞–±–æ —Ñ–∞–π–ª–æ–≤–µ —Å—Ö–æ–≤–∏—â–µ
- –û–Ω–æ–≤–ª—é—î —Ç–æ–∫–µ–Ω–∏ –ø—Ä–∏ –∑–∞–∫—ñ–Ω—á–µ–Ω–Ω—ñ —Ç–µ—Ä–º—ñ–Ω—É –¥—ñ—ó
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏–π —Ç–∏–ø —Ç–æ–∫–µ–Ω–∞ –¥–ª—è –∫–æ–∂–Ω–æ—ó –æ–ø–µ—Ä–∞—Ü—ñ—ó

**–ë–µ–∑–ø–µ—á–Ω–µ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —Ç–æ–∫–µ–Ω—ñ–≤ (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º):**
- **Windows**: Windows Credential Manager
- **macOS**: macOS Keychain
- **Linux**: Secret Service (gnome-keyring, kwallet)

**–†–µ–∑–µ—Ä–≤–Ω–µ —Ñ–∞–π–ª–æ–≤–µ —Å—Ö–æ–≤–∏—â–µ:**
- **Windows**: `%APPDATA%\raps\tokens.json`
- **macOS**: `~/Library/Application Support/raps/tokens.json`
- **Linux**: `~/.local/share/raps/tokens.json`

> **üîê –ë–µ–∑–ø–µ–∫–∞**: –°—Ö–æ–≤–∏—â–µ –∫–ª—é—á—ñ–≤ —à–∏—Ñ—Ä—É—î —Ç–æ–∫–µ–Ω–∏. –§–∞–π–ª–æ–≤–µ —Å—Ö–æ–≤–∏—â–µ –∑–±–µ—Ä—ñ–≥–∞—î —Ç–æ–∫–µ–Ω–∏ —É –≤—ñ–¥–∫—Ä–∏—Ç–æ–º—É –≤–∏–≥–ª—è–¥—ñ —ñ –ø–æ–≤–∏–Ω–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏—Å—å –ª–∏—à–µ —É –∑–∞—Ö–∏—â–µ–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞—Ö.

## –í–∏—Ä—ñ—à–µ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º

### –ü–æ–º–∏–ª–∫–∞ "Authentication failed"

1. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ `APS_CLIENT_ID` —Ç–∞ `APS_CLIENT_SECRET` –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ –ø—Ä–∞–≤–∏–ª—å–Ω–æ
2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —â–æ –≤–∞—à –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ APS –∞–∫—Ç–∏–≤–Ω–∏–π –Ω–∞ Developer Portal
3. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –æ–±–ª—ñ–∫–æ–≤—ñ –¥–∞–Ω—ñ –Ω–µ –±—É–ª–∏ –∑–º—ñ–Ω–µ–Ω—ñ

### –ü–æ–º–∏–ª–∫–∞ "Callback URL mismatch"

–ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ `APS_CALLBACK_URL` –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó –≤–∞—à–æ–≥–æ –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É APS.

### –ü–æ–º–∏–ª–∫–∞ "Token expired"

–°–ø—Ä–æ–±—É–π—Ç–µ –≤–∏–π—Ç–∏ —Ç–∞ —É–≤—ñ–π—Ç–∏ –∑–Ω–æ–≤—É:

```bash
raps auth logout && raps auth login
```
