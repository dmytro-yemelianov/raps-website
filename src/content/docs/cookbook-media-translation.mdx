---
title: "3D Asset Translation"
description: "Process FBX, OBJ, glTF for web viewing"
section: "cookbook"
order: 41
icon: "ðŸŽ®"
---

# 3D Asset Translation

Process common 3D formats (FBX, OBJ, glTF) for web-based viewing.

## Workflow Overview

```mermaid
flowchart TB
    subgraph Input["3D Formats"]
        A[FBX]
        B[OBJ + MTL]
        C[glTF/GLB]
        D[3DS]
        E[DAE]
    end

    subgraph Upload["RAPS Upload"]
        F[raps object upload]
    end

    subgraph Storage["APS Storage"]
        G[(OSS Bucket)]
    end

    subgraph Translation["Model Derivative"]
        H[SVF2 Translation]
    end

    subgraph Output["Outputs"]
        I[Web Viewable]
        J[Thumbnails]
        K[Metadata]
    end

    A & B & C & D & E --> F --> G --> H
    H --> I & J & K
```

---

## CLI Approach

### Step 1: Create Assets Bucket

```bash
raps bucket create --key media-assets --policy persistent --region US
```

### Step 2: Upload 3D Files

```bash
# FBX file
raps object upload media-assets character.fbx

# OBJ file
raps object upload media-assets environment.obj

# glTF file
raps object upload media-assets props.gltf

# GLB (binary glTF)
raps object upload media-assets vehicle.glb
```

### Step 3: Translate to SVF2

```bash
# Get URN and translate
URN=$(raps object urn media-assets character.fbx --output plain)
raps translate start "$URN" --format svf2 --wait

# Check translation result
raps translate manifest "$URN"
```

### Step 4: Verify Output

```bash
# Get available views
raps derivative views "$URN" --output json

# Get thumbnail
raps derivative thumbnail "$URN" --output ./preview.png

# Get metadata
raps derivative metadata "$URN" --output json
```

### Supported Formats

| Format | Extension | Notes |
|--------|-----------|-------|
| FBX | .fbx | Autodesk format, animations |
| OBJ | .obj | With .mtl materials |
| glTF | .gltf | JSON + separate assets |
| GLB | .glb | Binary glTF |
| 3DS | .3ds | Legacy 3D Studio |
| DAE | .dae | Collada format |

---

## CI/CD Pipeline

```yaml
# .github/workflows/asset-translation.yml
name: 3D Asset Translation

on:
  push:
    paths:
      - 'assets/**/*.fbx'
      - 'assets/**/*.obj'
      - 'assets/**/*.gltf'
      - 'assets/**/*.glb'

env:
  BUCKET: media-assets-${{ github.repository_id }}

jobs:
  translate-assets:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      - name: Install RAPS
        run: cargo install raps

      - name: Setup bucket
        env:
          APS_CLIENT_ID: ${{ secrets.APS_CLIENT_ID }}
          APS_CLIENT_SECRET: ${{ secrets.APS_CLIENT_SECRET }}
        run: |
          raps bucket create --key "$BUCKET" --policy persistent --region US 2>/dev/null || true

      - name: Upload and translate
        env:
          APS_CLIENT_ID: ${{ secrets.APS_CLIENT_ID }}
          APS_CLIENT_SECRET: ${{ secrets.APS_CLIENT_SECRET }}
        run: |
          for file in $(git diff --name-only HEAD~1 HEAD -- 'assets/**'); do
            [ -f "$file" ] || continue

            ext="${file##*.}"
            case "$ext" in
              fbx|obj|gltf|glb|3ds|dae)
                echo "Processing: $file"
                raps object upload "$BUCKET" "$file"

                key=$(basename "$file")
                URN=$(raps object urn "$BUCKET" "$key" --output plain)
                raps translate start "$URN" --format svf2 --wait

                echo "Translated: $key"
                ;;
            esac
          done

      - name: Generate thumbnails
        env:
          APS_CLIENT_ID: ${{ secrets.APS_CLIENT_ID }}
          APS_CLIENT_SECRET: ${{ secrets.APS_CLIENT_SECRET }}
        run: |
          mkdir -p ./thumbnails

          raps object list "$BUCKET" --output json | jq -r '.[].key' | while read key; do
            URN=$(raps object urn "$BUCKET" "$key" --output plain)
            STATUS=$(raps translate manifest "$URN" 2>/dev/null | jq -r '.status // "pending"')

            if [ "$STATUS" = "success" ]; then
              name=$(echo "$key" | sed 's/\.[^.]*$//')
              raps derivative thumbnail "$URN" --output "./thumbnails/${name}.png" 2>/dev/null || true
            fi
          done

      - name: Upload thumbnails
        uses: actions/upload-artifact@v4
        with:
          name: asset-thumbnails
          path: ./thumbnails/
```

### Pipeline Flow

```mermaid
flowchart LR
    subgraph Trigger["Git Push"]
        A[3D files changed]
    end

    subgraph Process["Processing"]
        B[Upload assets]
        C[Translate to SVF2]
        D[Generate thumbnails]
    end

    subgraph Output["Artifacts"]
        E[thumbnails/]
    end

    A --> B --> C --> D --> E
```

---

## MCP Integration

### Translate Single Asset

```
User: "Upload and translate the new character model for web viewing"
```

```mermaid
sequenceDiagram
    participant User
    participant AI as AI Assistant
    participant MCP as RAPS MCP
    participant APS as APS Cloud

    User->>AI: Translate character.fbx

    AI->>MCP: aps_object_upload(bucket, file)
    MCP->>APS: Upload FBX
    APS-->>MCP: Complete

    AI->>MCP: aps_object_urn(bucket, key)
    MCP-->>AI: URN

    AI->>MCP: aps_translate_start(urn, format="svf2")
    MCP->>APS: Start translation

    loop Wait
        AI->>MCP: aps_translate_manifest(urn)
    end

    AI->>MCP: aps_derivative_thumbnail(urn)
    MCP-->>AI: Thumbnail

    AI->>User: Asset ready with preview
```

**AI Response:**
> character.fbx has been uploaded and translated:
>
> **Asset Details:**
> - File size: 12.4 MB
> - Polygons: 45,000
> - Materials: 8
> - Bones: 65
> - Animation clips: 3
>
> **Translation:** Complete (45 seconds)
>
> [View in Browser](https://viewer.autodesk.com/...)
>
> ![Thumbnail](preview.png)

### Batch Translate

```
User: "Process all the props in the environment folder"
```

**AI Response:**
> Processing 12 files from environment folder:
>
> | File | Format | Status | Polygons |
> |------|--------|--------|----------|
> | tree_01.fbx | FBX | Complete | 8,200 |
> | rock_large.obj | OBJ | Complete | 2,100 |
> | fence.gltf | glTF | Complete | 1,450 |
> | lamp_post.fbx | FBX | Processing | - |
> | ... | ... | ... | ... |
>
> **Progress:** 9/12 complete

---

## Format-Specific Tips

### FBX with Animations

```bash
# FBX animations are preserved
URN=$(raps object urn media-assets animated-character.fbx --output plain)
raps translate start "$URN" --format svf2 --wait

# Check animation data in metadata
raps derivative metadata "$URN" --output json | jq '.animations'
```

### OBJ with External Materials

```bash
# Package OBJ with MTL and textures
zip -r model-package.zip model.obj model.mtl textures/

raps object upload media-assets model-package.zip

# Specify root file
URN=$(raps object urn media-assets model-package.zip --output plain)
raps translate start "$URN" --format svf2 --root "model.obj" --wait
```

### glTF Variants

```bash
# glTF (JSON + binary + textures)
# Upload all files together or as a zip

# GLB is self-contained
raps object upload media-assets model.glb
URN=$(raps object urn media-assets model.glb --output plain)
raps translate start "$URN" --format svf2 --wait
```

---

## Related

- [OBJ with Materials](/docs/cookbook-media-materials)
- [Animation Workflows](/docs/cookbook-media-animation)
- [Cookbook: Media & Entertainment](/docs/cookbook-media)
