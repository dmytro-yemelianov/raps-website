---
title: "MCP Server"
description: "AI assistant integration via Model Context Protocol"
section: "modes"
order: 6
icon: "ğŸ¤–"
---

# MCP Server: Talk to Your Model

The `raps serve` command starts a Model Context Protocol (MCP) server, enabling AI assistants to interact with Autodesk Platform Services through natural language.

> **New in v3.0.0** â€” The MCP server is a major feature addition.

## From "Chat with PDF" to "Chat with Tools"

We are moving past the era of "Chat with PDF." The next frontier is **Chat with Tools**.

If you have ever tried to paste a 500MB JSON metadata extract from a Revit model into ChatGPT, you know the pain: "Message too long." RAG (Retrieval-Augmented Generation) helps, but it is static. It can't query the current state of a model or trigger an action.

Enter the **Model Context Protocol (MCP)**.

## What is MCP?

The [Model Context Protocol](https://modelcontextprotocol.io/) is an open standard that allows AI assistants to use external tools. Instead of dumping data into the context window, the LLM has access to a live toolkit.

With RAPS MCP server, you can ask your AI assistant to:

- Find specific BIM elements by properties ("all 'Basic Wall' instances over 100mÂ²")
- Create and manage buckets dynamically  
- Upload files and start translations
- Browse BIM 360/ACC projects in real-time
- Check translation status and retrieve results
- Query live model metadata without size limits

This bridges the gap between the rigid, complex data structures of BIM and the natural language interface of AI.

## Quick Start

```bash
# Start the MCP server
raps serve
```

The server runs in stdio mode, listening for MCP requests from AI assistants.

## Configuration

### Claude Desktop

Add to your Claude configuration file:

**macOS:** `~/Library/Application Support/Claude/claude_desktop_config.json`  
**Windows:** `%APPDATA%\Claude\claude_desktop_config.json`  
**Linux:** `~/.config/claude/claude_desktop_config.json`

```json
{
  "mcpServers": {
    "raps": {
      "command": "raps",
      "args": ["serve"],
      "env": {
        "APS_CLIENT_ID": "your_client_id",
        "APS_CLIENT_SECRET": "your_client_secret"
      }
    }
  }
}
```

### Cursor IDE

Add to `.cursor/mcp.json` in your project:

```json
{
  "mcpServers": {
    "raps": {
      "command": "raps",
      "args": ["serve"]
    }
  }
}
```

> **Note:** Cursor uses environment variables from your shell, so ensure `APS_CLIENT_ID` and `APS_CLIENT_SECRET` are set.

## Available Tools

The RAPS MCP server exposes 14 tools:

### Authentication

| Tool | Description |
|------|-------------|
| `auth_test` | Test 2-legged OAuth credentials |
| `auth_status` | Check authentication status |

### OSS Buckets

| Tool | Description |
|------|-------------|
| `bucket_list` | List all accessible buckets |
| `bucket_create` | Create a new bucket |
| `bucket_get` | Get bucket details |
| `bucket_delete` | Delete an empty bucket |

### OSS Objects

| Tool | Description |
|------|-------------|
| `object_list` | List objects in a bucket |
| `object_delete` | Delete an object |
| `object_signed_url` | Generate pre-signed download URL |
| `object_urn` | Get Base64-encoded URN |

### Model Derivative

| Tool | Description |
|------|-------------|
| `translate_start` | Start a translation job |
| `translate_status` | Check translation status |

### Data Management

| Tool | Description |
|------|-------------|
| `hub_list` | List BIM 360/ACC hubs |
| `project_list` | List projects in a hub |

## How It Works: Live Tool Execution

Instead of dumping data into the context window, the LLM has access to a toolkit. When you ask a question, the flow looks like this:

1. **You:** "Find all 'Basic Wall' instances in the 'Hospital.rvt' file that are over 100mÂ²."
2. **LLM:** *Thinking... I need to inspect the model metadata.*
3. **LLM (Action):** Calls `raps model:query --file Hospital.rvt --category Walls`
4. **RAPS:** Returns a filtered JSON snippet.
5. **LLM (Response):** "I found 12 walls matching your criteria. Here are their IDs..."

You don't need to write SQL or complex filter queries. You just ask. The AI translates your natural language into the appropriate RAPS commands.

## Example Conversations

### Creating a bucket

> **You:** Create a new persistent bucket in the US region called "my-project-files"

> **AI:** I'll create that bucket for you.
> 
> âœ“ Created bucket 'my-project-files' with persistent retention in US region.

### Checking buckets

> **You:** What buckets do I have access to?

> **AI:** Let me check your accessible buckets.
> 
> You have 3 buckets:
> - my-project-files (persistent, US)
> - temp-uploads (transient, US)
> - eu-data (persistent, EMEA)

### Advanced model querying

> **You:** Find all steel beams in the hospital model that are longer than 10 meters and show me their material properties

> **AI:** Let me query the model metadata for you.
> 
> Found 47 steel beams over 10 meters:
> - W12x45 beams: 12 instances (Grade 50 steel)
> - W14x30 beams: 23 instances (Grade 36 steel)  
> - W16x67 beams: 12 instances (Grade 50 steel)
>
> All beams have fire rating of 2 hours. Would you like the complete material specifications?

### Translation workflow

> **You:** Start translating the file "building.rvt" in bucket "my-project-files" to SVF2 format

> **AI:** I'll start the translation. First, let me get the URN for that file.
> 
> âœ“ Translation started. The file is being converted to SVF2 format.
> You can check the status by asking me about it.

## Architecture

The MCP server reuses all existing RAPS API clients:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   AI Assistant  â”‚â”€â”€â”€â”€â–¶â”‚  RAPS MCP Server â”‚
â”‚  (Claude, etc.) â”‚â—€â”€â”€â”€â”€â”‚   raps serve     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚            â”‚            â”‚
              â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
              â”‚ AuthClientâ”‚ â”‚OssClientâ”‚ â”‚DerivClientâ”‚
              â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
                    â”‚            â”‚            â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                          â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
                          â”‚   APS APIs  â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Limitations

- **No file uploads:** MCP currently doesn't support binary file transfer. Use CLI for uploads.
- **2-legged auth only:** MCP tools use 2-legged OAuth. For 3-legged operations, use CLI.
- **Stdio transport:** Server must be started by the AI client, not as a daemon.

## Debugging

Enable verbose logging:

```bash
RUST_LOG=debug raps serve
```

Check server connectivity:

```bash
echo '{"jsonrpc":"2.0","method":"initialize","params":{},"id":1}' | raps serve
```

## Next Steps

- [Examples](/docs/examples) â€” Common workflows
- [Pipelines](/docs/pipelines) â€” Batch automation

