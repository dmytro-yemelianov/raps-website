---
title: "–í–∏—Ç—è–≥ –º–µ—Ç–∞–¥–∞–Ω–∏—Ö"
description: "–í–∏—Ç—è–≥ BIM-–º–µ—Ç–∞–¥–∞–Ω–∏—Ö –¥–ª—è –∞–Ω–∞–ª—ñ–∑—É —Ç–∞ –∑–≤—ñ—Ç–Ω–æ—Å—Ç—ñ"
category: "aec"
order: 12
icon: "üìä"
---

# –í–∏—Ç—è–≥ –º–µ—Ç–∞–¥–∞–Ω–∏—Ö

–û—Ç—Ä–∏–º–∞–Ω–Ω—è –º–µ—Ç–∞–¥–∞–Ω–∏—Ö –∑ —Ç—Ä–∞–Ω—Å–ª—è—Ç–æ–≤–∞–Ω–∏—Ö –º–æ–¥–µ–ª–µ–π Revit –¥–ª—è –∞–Ω–∞–ª—ñ–∑—É –∞–±–æ –∑–≤—ñ—Ç–Ω–æ—Å—Ç—ñ.

## –û–≥–ª—è–¥ —Ä–æ–±–æ—á–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—É

<div class="not-prose my-8">
  <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
    <div class="rounded-lg border-2 border-blue-500/50 bg-blue-950/30 p-4">
      <div class="text-xs font-semibold text-blue-400 uppercase tracking-wide mb-3">–í—Ö—ñ–¥–Ω—ñ –¥–∞–Ω—ñ</div>
      <div class="bg-blue-900/30 rounded px-3 py-2 text-sm text-slate-300 text-center">
        –¢—Ä–∞–Ω—Å–ª—è—Ç–æ–≤–∞–Ω–∞ –º–æ–¥–µ–ª—å<br/><span class="text-blue-400 font-mono text-xs">SVF2 URN</span>
      </div>
    </div>
    <div class="rounded-lg border-2 border-purple-500/50 bg-purple-950/30 p-4">
      <div class="text-xs font-semibold text-purple-400 uppercase tracking-wide mb-3">Model Derivative API</div>
      <div class="space-y-2">
        <div class="bg-purple-900/30 rounded px-3 py-2 text-sm text-slate-300">–û—Ç—Ä–∏–º–∞—Ç–∏ –º–µ—Ç–∞–¥–∞–Ω—ñ</div>
        <div class="bg-purple-900/30 rounded px-3 py-2 text-sm text-slate-300">–û—Ç—Ä–∏–º–∞—Ç–∏ –¥–µ—Ä–µ–≤–æ</div>
        <div class="bg-purple-900/30 rounded px-3 py-2 text-sm text-slate-300">–û—Ç—Ä–∏–º–∞—Ç–∏ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ</div>
        <div class="bg-purple-900/30 rounded px-3 py-2 text-sm text-slate-300">–û—Ç—Ä–∏–º–∞—Ç–∏ –≤–∏–≥–ª—è–¥–∏</div>
      </div>
    </div>
    <div class="rounded-lg border-2 border-amber-500/50 bg-amber-950/30 p-4">
      <div class="text-xs font-semibold text-amber-400 uppercase tracking-wide mb-3">–†–µ–∑—É–ª—å—Ç–∞—Ç–∏</div>
      <div class="space-y-2">
        <div class="bg-amber-900/30 rounded px-3 py-2 text-sm">
          <span class="font-mono text-amber-300">metadata.json</span>
          <span class="text-slate-400 text-xs block">GUID, —ñ–Ω—Ñ–æ</span>
        </div>
        <div class="bg-amber-900/30 rounded px-3 py-2 text-sm">
          <span class="font-mono text-amber-300">tree.json</span>
          <span class="text-slate-400 text-xs block">–Ü—î—Ä–∞—Ä—Ö—ñ—è</span>
        </div>
        <div class="bg-amber-900/30 rounded px-3 py-2 text-sm">
          <span class="font-mono text-amber-300">properties.json</span>
          <span class="text-slate-400 text-xs block">BIM-–¥–∞–Ω—ñ</span>
        </div>
        <div class="bg-amber-900/30 rounded px-3 py-2 text-sm">
          <span class="font-mono text-amber-300">views.json</span>
          <span class="text-slate-400 text-xs block">–°–ø–∏—Å–æ–∫ –≤–∏–≥–ª—è–¥—ñ–≤</span>
        </div>
      </div>
    </div>
    <div class="rounded-lg border-2 border-emerald-500/50 bg-emerald-950/30 p-4">
      <div class="text-xs font-semibold text-emerald-400 uppercase tracking-wide mb-3">–ï–∫—Å–ø–æ—Ä—Ç</div>
      <div class="space-y-2">
        <div class="bg-emerald-900/30 rounded px-3 py-2 text-sm text-slate-300">–ó–≤—ñ—Ç–∏</div>
        <div class="bg-emerald-900/30 rounded px-3 py-2 text-sm text-slate-300">CSV</div>
        <div class="bg-emerald-900/30 rounded px-3 py-2 text-sm text-slate-300">–ë–∞–∑–∞ –¥–∞–Ω–∏—Ö</div>
      </div>
    </div>
  </div>
  <div class="flex justify-center mt-4">
    <div class="flex items-center gap-2 text-slate-500 text-sm">
      <span>–í—Ö—ñ–¥</span>
      <span>&#8594;</span>
      <span>API</span>
      <span>&#8594;</span>
      <span>–†–µ–∑—É–ª—å—Ç–∞—Ç–∏</span>
      <span>&#8594;</span>
      <span>–ï–∫—Å–ø–æ—Ä—Ç</span>
    </div>
  </div>
</div>

---

## –ü—ñ–¥—Ö—ñ–¥ CLI

### –ö—Ä–æ–∫ 1: –û—Ç—Ä–∏–º–∞–Ω–Ω—è URN –º–æ–¥–µ–ª—ñ

```bash
URN=$(raps object urn my-bucket building.rvt --output plain)
```

### –ö—Ä–æ–∫ 2: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å—É —Ç—Ä–∞–Ω—Å–ª—è—Ü—ñ—ó

```bash
raps translate manifest "$URN"
```

### –ö—Ä–æ–∫ 3: –í–∏—Ç—è–≥ —É—Å—ñ—Ö –º–µ—Ç–∞–¥–∞–Ω–∏—Ö

```bash
# –ú–µ—Ç–∞–¥–∞–Ω—ñ –º–æ–¥–µ–ª—ñ (GUID, –≤–∏–≥–ª—è–¥–∏ —Ç–æ—â–æ)
raps derivative metadata "$URN" --output json > metadata.json

# –Ü—î—Ä–∞—Ä—Ö—ñ—è –º–æ–¥–µ–ª—ñ
raps derivative tree "$URN" --output json > model-tree.json

# –£—Å—ñ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ (BIM-–¥–∞–Ω—ñ)
raps derivative properties "$URN" --output json > properties.json

# –î–æ—Å—Ç—É–ø–Ω—ñ –≤–∏–≥–ª—è–¥–∏
raps derivative views "$URN" --output json > views.json
```

### –ö—Ä–æ–∫ 4: –ê–Ω–∞–ª—ñ–∑ –¥–∞–Ω–∏—Ö

```bash
# –ü—ñ–¥—Ä–∞—Ö—É–Ω–æ–∫ –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ –∑–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ—î—é
cat properties.json | jq 'group_by(.category) | .[] | {category: .[0].category, count: length}'

# –ï–∫—Å–ø–æ—Ä—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏—Ö –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç–µ–π —É CSV
cat properties.json | jq -r '
  ["ObjectId", "Name", "Category"],
  (.[] | [.objectid, .name, .category])
  | @csv' > elements.csv
```

---

## CI/CD-–∫–æ–Ω–≤–µ—î—Ä

```yaml
# .github/workflows/metadata-extraction.yml
name: BIM Metadata Extraction

on:
  workflow_dispatch:
    inputs:
      bucket:
        description: 'Bucket name'
        required: true
      model:
        description: 'Model filename'
        required: true

jobs:
  extract-metadata:
    runs-on: ubuntu-latest
    steps:
      - name: Install RAPS
        run: cargo install raps

      - name: Extract all metadata
        env:
          APS_CLIENT_ID: ${{ secrets.APS_CLIENT_ID }}
          APS_CLIENT_SECRET: ${{ secrets.APS_CLIENT_SECRET }}
        run: |
          URN=$(raps object urn "${{ inputs.bucket }}" "${{ inputs.model }}" --output plain)

          mkdir -p ./metadata-export

          raps derivative metadata "$URN" --output json > ./metadata-export/metadata.json
          raps derivative tree "$URN" --output json > ./metadata-export/tree.json
          raps derivative properties "$URN" --output json > ./metadata-export/properties.json
          raps derivative views "$URN" --output json > ./metadata-export/views.json

      - name: Generate summary
        run: |
          echo "# Metadata Summary" > ./metadata-export/summary.md
          echo "Model: ${{ inputs.model }}" >> ./metadata-export/summary.md
          echo "Elements: $(jq 'length' ./metadata-export/properties.json)" >> ./metadata-export/summary.md
          echo "Views: $(jq 'length' ./metadata-export/views.json)" >> ./metadata-export/summary.md

      - name: Upload artifacts
        uses: actions/upload-artifact@v4
        with:
          name: bim-metadata-${{ github.run_id }}
          path: ./metadata-export/
```

### –ü–æ—Ç—ñ–∫ –∫–æ–Ω–≤–µ—î—Ä–∞

<div class="not-prose my-6">
  <div class="flex flex-col sm:flex-row items-stretch gap-3">
    <div class="flex-1 rounded-lg border border-blue-500/50 bg-blue-950/30 p-3">
      <div class="text-xs font-semibold text-blue-400 uppercase tracking-wide mb-2">–†—É—á–Ω–∏–π –∑–∞–ø—É—Å–∫</div>
      <div class="bg-blue-900/30 rounded px-3 py-2 text-sm text-slate-300">
        workflow_dispatch<br/><span class="text-blue-400 text-xs">bucket + model</span>
      </div>
    </div>
    <div class="hidden sm:flex items-center text-slate-500">&#8594;</div>
    <div class="flex-1 rounded-lg border border-purple-500/50 bg-purple-950/30 p-3">
      <div class="text-xs font-semibold text-purple-400 uppercase tracking-wide mb-2">–í–∏—Ç—è–≥</div>
      <div class="space-y-1">
        <div class="bg-purple-900/30 rounded px-3 py-1.5 text-sm text-slate-300">–û—Ç—Ä–∏–º–∞–Ω–Ω—è URN</div>
        <div class="bg-purple-900/30 rounded px-3 py-1.5 text-sm font-mono text-purple-300">metadata.json</div>
        <div class="bg-purple-900/30 rounded px-3 py-1.5 text-sm font-mono text-purple-300">tree.json</div>
        <div class="bg-purple-900/30 rounded px-3 py-1.5 text-sm font-mono text-purple-300">properties.json</div>
        <div class="bg-purple-900/30 rounded px-3 py-1.5 text-sm font-mono text-purple-300">views.json</div>
      </div>
    </div>
    <div class="hidden sm:flex items-center text-slate-500">&#8594;</div>
    <div class="flex-1 rounded-lg border border-purple-500/50 bg-purple-950/30 p-3">
      <div class="text-xs font-semibold text-purple-400 uppercase tracking-wide mb-2">–ê–Ω–∞–ª—ñ–∑</div>
      <div class="bg-purple-900/30 rounded px-3 py-2 text-sm text-slate-300">–ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –∑–≤–µ–¥–µ–Ω–Ω—è</div>
    </div>
    <div class="hidden sm:flex items-center text-slate-500">&#8594;</div>
    <div class="flex-1 rounded-lg border border-emerald-500/50 bg-emerald-950/30 p-3">
      <div class="text-xs font-semibold text-emerald-400 uppercase tracking-wide mb-2">–ê—Ä—Ç–µ—Ñ–∞–∫—Ç–∏</div>
      <div class="bg-emerald-900/30 rounded px-3 py-2 text-sm font-mono text-emerald-300">bim-metadata.zip</div>
    </div>
  </div>
</div>

---

## –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ MCP

### –í–∏—Ç—è–≥ —Ç–∞ –∑–≤–µ–¥–µ–Ω–Ω—è

```
User: "Extract all metadata from building.rvt and summarize the room count"
```

<div class="not-prose my-6">
  <div class="bg-slate-900/50 rounded-lg border border-slate-700 p-4">
    <div class="flex gap-4 mb-4 text-xs font-semibold">
      <div class="flex-1 text-center py-2 rounded bg-blue-900/30 text-blue-400">–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á</div>
      <div class="flex-1 text-center py-2 rounded bg-purple-900/30 text-purple-400">AI-–∞—Å–∏—Å—Ç–µ–Ω—Ç</div>
      <div class="flex-1 text-center py-2 rounded bg-amber-900/30 text-amber-400">RAPS MCP</div>
      <div class="flex-1 text-center py-2 rounded bg-emerald-900/30 text-emerald-400">–•–º–∞—Ä–∞ APS</div>
    </div>
    <div class="space-y-2 text-sm">
      <div class="flex items-center gap-2">
        <div class="flex-1 text-right text-blue-400">–í–∏—Ç—è–≥—Ç–∏ –º–µ—Ç–∞–¥–∞–Ω—ñ, –ø—ñ–¥—Å—É–º–æ–∫ –ø—Ä–∏–º—ñ—â–µ–Ω—å</div>
        <div class="text-slate-500">&#8594;</div>
        <div class="flex-1 text-purple-400"></div>
        <div class="flex-1"></div>
        <div class="flex-1"></div>
      </div>
      <div class="flex items-center gap-2">
        <div class="flex-1"></div>
        <div class="flex-1 text-right text-purple-400">aps_object_urn()</div>
        <div class="text-slate-500">&#8594;</div>
        <div class="flex-1 text-amber-400"></div>
        <div class="flex-1"></div>
      </div>
      <div class="flex items-center gap-2">
        <div class="flex-1"></div>
        <div class="flex-1"></div>
        <div class="flex-1 text-right text-amber-400">–û—Ç—Ä–∏–º–∞—Ç–∏ URN</div>
        <div class="text-slate-500">&#8594;</div>
        <div class="flex-1 text-emerald-400"></div>
      </div>
      <div class="flex items-center gap-2">
        <div class="flex-1"></div>
        <div class="flex-1 text-purple-400"></div>
        <div class="text-slate-500">&#8592;</div>
        <div class="flex-1 text-left text-amber-400">URN</div>
        <div class="flex-1"></div>
      </div>
      <div class="flex items-center gap-2">
        <div class="flex-1"></div>
        <div class="flex-1 text-right text-purple-400">aps_derivative_properties()</div>
        <div class="text-slate-500">&#8594;</div>
        <div class="flex-1 text-amber-400"></div>
        <div class="flex-1"></div>
      </div>
      <div class="flex items-center gap-2">
        <div class="flex-1"></div>
        <div class="flex-1"></div>
        <div class="flex-1 text-right text-amber-400">–û—Ç—Ä–∏–º–∞—Ç–∏ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ</div>
        <div class="text-slate-500">&#8594;</div>
        <div class="flex-1 text-emerald-400"></div>
      </div>
      <div class="flex items-center gap-2">
        <div class="flex-1"></div>
        <div class="flex-1"></div>
        <div class="flex-1 text-amber-400"></div>
        <div class="text-slate-500">&#8592;</div>
        <div class="flex-1 text-left text-emerald-400">Properties JSON</div>
      </div>
      <div class="flex items-center gap-2">
        <div class="flex-1"></div>
        <div class="flex-1 text-center text-purple-400 italic">–§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –ø—Ä–∏–º—ñ—â–µ–Ω—å, —Ä–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –ø–ª–æ—â</div>
        <div class="flex-1"></div>
        <div class="flex-1"></div>
      </div>
      <div class="flex items-center gap-2">
        <div class="flex-1 text-blue-400"></div>
        <div class="text-slate-500">&#8592;</div>
        <div class="flex-1 text-left text-purple-400">–ó–≤–µ–¥–µ–Ω–Ω—è –ø—Ä–∏–º—ñ—â–µ–Ω—å –∑–∞ –ø–æ–≤–µ—Ä—Ö–∞–º–∏</div>
        <div class="flex-1"></div>
        <div class="flex-1"></div>
      </div>
    </div>
  </div>
</div>

**–í—ñ–¥–ø–æ–≤—ñ–¥—å AI:**
> –ó–Ω–∞–π–¥–µ–Ω–æ 47 –ø—Ä–∏–º—ñ—â–µ–Ω—å —É –º–æ–¥–µ–ª—ñ:
> - –ü–æ–≤–µ—Ä—Ö 1: 15 –ø—Ä–∏–º—ñ—â–µ–Ω—å (320 –º¬≤ –∑–∞–≥–∞–ª–æ–º)
> - –ü–æ–≤–µ—Ä—Ö 2: 18 –ø—Ä–∏–º—ñ—â–µ–Ω—å (390 –º¬≤ –∑–∞–≥–∞–ª–æ–º)
> - –ü–æ–≤–µ—Ä—Ö 3: 14 –ø—Ä–∏–º—ñ—â–µ–Ω—å (288 –º¬≤ –∑–∞–≥–∞–ª–æ–º)

### –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –º–æ–¥–µ–ª–µ–π

```
User: "Compare the element counts between v1 and v2 of the building model"
```

**–í—ñ–¥–ø–æ–≤—ñ–¥—å AI:**
> –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –º–æ–¥–µ–ª–µ–π:
> | –ö–∞—Ç–µ–≥–æ—Ä—ñ—è | v1 | v2 | –ó–º—ñ–Ω–∞ |
> |-----------|-----|-----|-------|
> | –°—Ç—ñ–Ω–∏ | 245 | 258 | +13 |
> | –î–≤–µ—Ä—ñ | 89 | 92 | +3 |
> | –í—ñ–∫–Ω–∞ | 156 | 156 | 0 |
> | –ü—Ä–∏–º—ñ—â–µ–Ω–Ω—è | 47 | 52 | +5 |

---

## –¢–∏–ø–æ–≤—ñ –∑–∞–ø–∏—Ç–∏

### –ü—ñ–¥—Ä–∞—Ö—É–Ω–æ–∫ –∑–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ—î—é

```bash
cat properties.json | jq '
  group_by(.category) |
  map({category: .[0].category, count: length}) |
  sort_by(-.count)'
```

### –ü–æ—à—É–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏—Ö –µ–ª–µ–º–µ–Ω—Ç—ñ–≤

```bash
# –ó–Ω–∞–π—Ç–∏ –≤—Å—ñ –¥–≤–µ—Ä—ñ
cat properties.json | jq '[.[] | select(.category == "Doors")]'

# –ó–Ω–∞–π—Ç–∏ –µ–ª–µ–º–µ–Ω—Ç–∏ –∑–∞ —à–∞–±–ª–æ–Ω–æ–º –Ω–∞–∑–≤–∏
cat properties.json | jq '[.[] | select(.name | test("Wall.*Exterior"))]'
```

### –ï–∫—Å–ø–æ—Ä—Ç —É —Ñ–æ—Ä–º–∞—Ç –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

```bash
# –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è SQL-–≤—Å—Ç–∞–≤–æ–∫
cat properties.json | jq -r '.[] |
  "INSERT INTO elements (id, name, category) VALUES (\(.objectid), '\''\(.name)'\'', '\''\(.category)'\'');"'
```

---

## –ü–æ–≤'—è–∑–∞–Ω–µ

- [–ï–∫—Å–ø–æ—Ä—Ç –ø—Ä–∏–º—ñ—â–µ–Ω—å —ñ –ø—Ä–æ—Å—Ç–æ—Ä—ñ–≤](/cookbook/cookbook-aec-rooms)
- [–ö–æ–Ω–≤–µ—î—Ä –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü—ñ—ó –º–æ–¥–µ–ª–µ–π](/cookbook/cookbook-aec-coordination)
- [Cookbook: AEC —Ç–∞ BIM](/cookbook/cookbook-aec)
